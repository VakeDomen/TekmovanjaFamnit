<div class="container">
    <div *ngIf="dataReady && competition">
        <div class="level">
            <div class="level-left">
                <h1 class="title is-1 has-text-centered">{{ competition.competition_name }}</h1>
            </div>
            <div class="level-right has-text-centered">
                <app-join-competition-modal 
                    *ngIf="!myContestant" 
                    [competition]="competition" 
                    (newContestant)="contestantJoined($event)"
                ></app-join-competition-modal>
            </div>
        </div>

        <div class="level has-text-centered">
            <div class="level-item">
                <div class="box">
                    <div class="title is-3">Contestants</div>
                    <br>
                    <div class="subtitle">{{ contestants.length }}</div>
                </div>
            </div>
            <div class="level-item">
                <div class="box">
                    <div class="title is-3">Start</div>
                    <br>
                    <div class="subtitle">{{ competition.start | date: 'dd.MM.yyyy' }}</div>
                </div>
            </div>
            <div class="level-item">
                <div class="box">
                    <div class="title is-3">End</div>
                    <br>
                    <div class="subtitle">{{ competition.end | date: 'dd.MM.yyyy' }}</div>
                </div>
            </div>

            <div class="level-item">
                <div class="box">
                    <div class="title is-3">Game</div>
                    <br>
                    <div class="title is-3">
                        {{ game?.name }}
                    </div>
                </div>
            </div>

            <div class="level-item">
                <div class="box">
                    <div class="title is-3">Game pack</div>
                    <br>
                    <button class="button is-primary" (click)="downloadPack()">Download</button>
                </div>
            </div>
        </div>

        <div class="columns">
            <div class="column">
                <div [innerHTML]="game?.game_description ?? ''"></div>
            </div>
        </div>

    </div>
    <div *ngIf="!dataReady && !dataUnavalible">
        <div class="level has-text-centered">
            <progress class="progress is-medium is-primary" max="100"></progress>
        </div>
    </div>
    <div *ngIf="dataReady && dataUnavalible">
        <div class="has-text-centered">
            <h1 class="title is-3">No competition found!</h1>
        </div>
    </div>
</div>